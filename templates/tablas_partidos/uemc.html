<!doctype html>
<html lang="en">
    <head>
        <title>Title</title>
        <!-- Required meta tags -->
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
        <!-- Bootstrap CSS v5.2.1 -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous"/>
        <link href="/static/css/estilo.css" rel="stylesheet" type="text/css">
    </head>
    <body>
        <header>
           <h1 class="text-center">Resultados Liga Hypermotion 23/24</h1>
        </header>
        <main>
            <section class="container-lg">
                <div class="d-flex justify-content-center mb-4">
                <button onclick="mostrarFormulario()" class="btn btn-success text-center fs-3">Crear Resultados</button>
                </div>
                <!-- Formulario para los resultados de los partidos -->
                <div class="container-lg" id="form_partidos">
                  <form method="POST" action="/ingresar_resultado_uemc" enctype="multipart/form-data" class="row mb-3">
                    <div class="col-md-12">
                        <label for="nombre">Jornada</label>
                        <input type="text" class="form-control" id="nombre" name="nombre">
                    </div>
                    <div class="col-md-12">
                        <label for="num_partidos">NÃºmero de partidos</label>
                        <input type="text" class="form-control" id="num_partidos" name="num_partidos">
                    </div>
                    {% for i in range(9) %}
                    <div class="col-md-5">
                        <label for="local{{i}}">Equipo Local</label>
                        <input type="text" class="form-control" id="local{{i}}" name="local{{i}}">
                    </div>
                    <div class="col-md-1">
                        <label for="resultA{{i}}"></label>
                        <input type="text" class="form-control" id="resultA{{i}}" name="resultA{{i}}">
                    </div>
                    <div class="col-md-1">
                        <label for="resultB{{i}}"></label>
                        <input type="text" class="form-control" id="resultB{{i}}" name="resultB{{i}}">
                    </div>
                    <div class="col-md-5">
                        <label for="visitante{{i}}">Equipo Visitante</label>
                        <input type="text" class="form-control" id="visitante{{i}}" name="visitante{{i}}">
                    </div>
                    {% endfor %}  
                    <div class="col-md-4 mt-2">
                      <button class="btn btn-primary" type="submit">Resultados</button>
                    </div>
                    <div class="col-md-4 mt-2">
                        <button class="btn btn-danger" type="submit">Cerrar</button>
                      </div>
                  </form>
                </div>
            </section>
        </main>
        <!--Visibilidad de los resultados-->
        <div class="container-fluid">
            <div class="row">
                {% for jornada in data %}
                <div class="col-lg-6">
                    <div class="card mb-3">
                        <div class="table-responsive">
                            <table class="table table-bordered tabla_equipos">
                                <thead>
                                    <tr class="text-center">
                                        <td colspan="5" class="text-center fw-bold">{{ jornada.nombre }}</td>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for partido in jornada.partidos %}
                                    <tr class="text-center">
                                        <td class="text-center fw-bold">{{ partido.local }}</td>
                                        <td class="text-center">{{ partido.resultadoA }}</td>
                                        <td class="text-center">{{ partido.resultadoB }}</td>
                                        <td class="text-center fw-bold">{{ partido.visitante }}</td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                            <div class="d-flex ms-1 mt-1">
                                <form action="" method="POST">
                                    <button type="submit" class="bg-success text-white border-0 px-2 me-2">Publicar</button>
                                </form>
                                <button type="submit" id="" class="bg-info text-white border-0 px-2" data-bs-toggle="modal" data-bs-target="#modal">Modificar</button>
                                <!--<form action="" method="POST">
                                    <button type="submit" class="bg-danger text-white border-0 px-2">Eliminar</button>
                                </form>-->
                                <a href="#" onclick="toggleTabla(this, '{{ jornada.nombre }}') " class="text-decoration-none text-primary">Ver Tabla</a>
                            </div>
                        </div> 
                    </div>
                    
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- Bootstrap JavaScript Libraries -->
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
        <script>
            function toggleTabla(element) {
                // Encuentra el contenedor padre de la tabla
                var container = element.closest('.card');
                // Encuentra el tbody dentro de la tabla
                var tbody = container.querySelector('.tabla_equipos tbody');
                // Muestra u oculta el tbody
                tbody.style.display = (tbody.style.display === 'none' || tbody.style.display === '') ? 'table-row-group' : 'none';
    }
     
        </script>
    </body>
</html>





